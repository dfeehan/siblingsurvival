<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Preparing DHS data • siblingsurvival</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Preparing DHS data">
<meta property="og:description" content="siblingsurvival">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">siblingsurvival</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/preparing-data.html">Preparing DHS data</a>
    </li>
    <li>
      <a href="../articles/sibling-estimates.html">Estimating death rates from sibling history data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="preparing-data_files/header-attrs-2.5/header-attrs.js"></script><link href="preparing-data_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="preparing-data_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Preparing DHS data</h1>
                        <h4 class="author">Dennis M. Feehan</h4>
            
            <h4 class="date">2020-11-08</h4>
      
      
      <div class="hidden name"><code>preparing-data.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">siblingsurvival</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="co">#&gt; ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──</span>
<span class="co">#&gt; ✓ ggplot2 3.3.2     ✓ purrr   0.3.4</span>
<span class="co">#&gt; ✓ tibble  3.0.4     ✓ dplyr   1.0.2</span>
<span class="co">#&gt; ✓ tidyr   1.1.2     ✓ stringr 1.4.0</span>
<span class="co">#&gt; ✓ readr   1.4.0     ✓ forcats 0.5.0</span>
<span class="co">#&gt; ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span>

<span class="co"># this is helfpul for timing</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://github.com/collectivemedia/tictoc">tictoc</a></span><span class="op">)</span></pre></div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>This vignette shows how to prepare a DHS-style dataset for analysis with the <code>siblingsurvival</code> model.</p>
<p>First, we’ll open up the model DHS dataset, which is available <a href="https://dhsprogram.com/customcf/legacy/data/sample_download_dataset.cfm?Filename=ZZIR62DT.ZIP&amp;Tp=1&amp;Ctry_Code=zz&amp;survey_id=0&amp;doctype=dhs">here</a>; see also <a href="https://dhsprogram.com/data/Download-Model-Datasets.cfm">this webpage</a>. We’re going to be using the <strong>Individual Recode</strong>, and, generally, it’s easiest to start using the Stata-formatted version (neither an R version, nor an easy-to-use plain text format like .csv is provided).</p>
<p>We’ll assume that we’ve read the individual recode version of the dataset into R using <code><a href="https://haven.tidyverse.org/reference/read_dta.html">haven::read_dta</a></code>, and that we’re calling it <code>model_dhs_dat</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">model_dhs_dat</span><span class="op">)</span></pre></div>
<p>Next, we’ll open up the <code>varmap</code>, which maps column names in the raw DHS data to more user-friendly names.</p>
<p>An up-to-date list of DHS versions and recodes is available <a href="https://www.dhsprogram.com/publications/publication-dhsg4-dhs-questionnaires-and-manuals.cfm">here</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">sibhist_varmap_dhs6</span><span class="op">)</span></pre></div>
<p>Using the <code>varmap</code>, get a vector with the names of the respondent (ego) variables</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="co">## ego (respondent) variables to grab</span>
<span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">sibhist_varmap_dhs6</span>, <span class="va">sibvar</span><span class="op">==</span><span class="fl">0</span><span class="op">)</span>
<span class="va">resp.attrib</span> <span class="op">&lt;-</span> <span class="va">tmp</span><span class="op">$</span><span class="va">orig.varname</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">resp.attrib</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">tmp</span><span class="op">$</span><span class="va">new.varname</span>
<span class="va">resp.attrib</span>
<span class="co">#&gt;           caseid           survey          cluster            hhnum </span>
<span class="co">#&gt;         "caseid"           "v000"           "v001"           "v002" </span>
<span class="co">#&gt;            hrnum             wwgt              doi              age </span>
<span class="co">#&gt;           "v003"           "v005"           "v008"           "v012" </span>
<span class="co">#&gt;              psu stratum_analysis   stratum_design             educ </span>
<span class="co">#&gt;           "v021"           "v022"           "v023"           "v106" </span>
<span class="co">#&gt;            relig        ethnicity           hhsize      educ_recode </span>
<span class="co">#&gt;           "v130"           "v131"           "v136"           "v149" </span>
<span class="co">#&gt;         literacy    mm_occurences     mm_preceding </span>
<span class="co">#&gt;           "v155"           "mmc1"           "mmc2"</span></pre></div>
<p>Using the <code>varmap</code>, get a vector with the names of the sibling variables</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="co">## alter (sibling) variables to grab</span>
<span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">sibhist_varmap_dhs6</span>, <span class="va">sibvar</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>
<span class="va">sib.attrib</span> <span class="op">&lt;-</span> <span class="va">tmp</span><span class="op">$</span><span class="va">orig.varname</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">sib.attrib</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">tmp</span><span class="op">$</span><span class="va">new.varname</span>
<span class="va">sib.attrib</span>
<span class="co">#&gt;                sibindex                 sib.sex               sib.alive </span>
<span class="co">#&gt;                 "mmidx"                   "mm1"                   "mm2" </span>
<span class="co">#&gt;                 sib.age                 sib.dob      sib.marital.status </span>
<span class="co">#&gt;                   "mm3"                   "mm4"                   "mm5" </span>
<span class="co">#&gt;        sib.death.yrsago           sib.death.age          sib.death.date </span>
<span class="co">#&gt;                   "mm6"                   "mm7"                   "mm8" </span>
<span class="co">#&gt;       sib.died.pregnant   sib.died.bc.pregnancy         sib.death.cause </span>
<span class="co">#&gt;                   "mm9"                  "mm10"                  "mm11" </span>
<span class="co">#&gt; sib.time.delivery.death         sib.place.death        sib.num.children </span>
<span class="co">#&gt;                  "mm12"                  "mm13"                  "mm14" </span>
<span class="co">#&gt;          sib.death.year </span>
<span class="co">#&gt;                  "mm15"</span></pre></div>
<p>We’ll need to prepare two different datasets: the first dataset has information about the women who responded to the survey; we’ll call this the respondent or ego dataset. The second dataset has information about the reported siblings; we’ll call this the sibling dataset.</p>
</div>
<div id="prepare-the-respondent-ego-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-the-respondent-ego-dataset" class="anchor"></a>Prepare the respondent (ego) dataset</h2>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">ex.ego</span> <span class="op">&lt;-</span> <span class="va">model_dhs_dat</span> <span class="op">%&gt;%</span> 
  <span class="co"># use information from the varmap to rename ego variables</span>
  <span class="fu">rename</span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="va">resp.attrib</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>
    <span class="co">## typically, only women are asked sibling histories in DHS surveys</span>
    sex<span class="op">=</span><span class="st">'f'</span>,
    <span class="co">## these breaks should agree with the ones</span>
    <span class="co">## used in the age categories for siblings</span>
    <span class="co">## (see below)</span>
    age.cat<span class="op">=</span><span class="fu">fct_drop</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">age</span>,
      breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">15</span>,to<span class="op">=</span><span class="fl">50</span>,by<span class="op">=</span><span class="fl">5</span><span class="op">)</span>,<span class="fl">95</span><span class="op">)</span>,
      include.lowest<span class="op">=</span><span class="cn">TRUE</span>, right<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>,
    <span class="co">## we'll rescale the weights, dividing them by 1,000,000 </span>
    <span class="co">## (so that their average is 1); see DHS documentation</span>
    wwgt<span class="op">=</span><span class="va">wwgt</span><span class="op">/</span><span class="fl">1e6</span>
  <span class="op">)</span> 

<span class="va">ex.ego</span>
<span class="co">#&gt; # A tibble: 8,348 x 4,277</span>
<span class="co">#&gt;    caseid survey cluster hhnum hrnum  v004  wwgt  v006  v007   doi  v009  v010</span>
<span class="co">#&gt;    &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1 "    … ZZ6          1     1     2     1  1.06     6  2015  1386     6  1985</span>
<span class="co">#&gt;  2 "    … ZZ6          1     3     2     1  1.06     6  2015  1386     4  1993</span>
<span class="co">#&gt;  3 "    … ZZ6          1     4     2     1  1.06     6  2015  1386     4  1973</span>
<span class="co">#&gt;  4 "    … ZZ6          1     4     3     1  1.06     6  2015  1386     7  1989</span>
<span class="co">#&gt;  5 "    … ZZ6          1     5     1     1  1.06     6  2015  1386     2  1990</span>
<span class="co">#&gt;  6 "    … ZZ6          1     6     2     1  1.06     6  2015  1386     2  1978</span>
<span class="co">#&gt;  7 "    … ZZ6          1     6     3     1  1.06     6  2015  1386     6  1998</span>
<span class="co">#&gt;  8 "    … ZZ6          1     7     2     1  1.06     6  2015  1386     6  1994</span>
<span class="co">#&gt;  9 "    … ZZ6          1     9     5     1  1.06     6  2015  1386     4  1969</span>
<span class="co">#&gt; 10 "    … ZZ6          1    11     2     1  1.06     6  2015  1386    10  1977</span>
<span class="co">#&gt; # … with 8,338 more rows, and 4,265 more variables: v011 &lt;dbl&gt;, age &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v013 &lt;dbl&gt;, v014 &lt;dbl&gt;, v015 &lt;dbl&gt;, v016 &lt;dbl&gt;, v017 &lt;dbl&gt;, v018 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v019 &lt;dbl&gt;, v019a &lt;dbl&gt;, v020 &lt;dbl&gt;, psu &lt;dbl&gt;, stratum_analysis &lt;dbl&gt;,</span>
<span class="co">#&gt; #   stratum_design &lt;dbl&gt;, v024 &lt;dbl&gt;, v025 &lt;dbl&gt;, v026 &lt;dbl&gt;, v027 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v028 &lt;dbl&gt;, v029 &lt;dbl&gt;, v030 &lt;dbl&gt;, v031 &lt;dbl&gt;, v032 &lt;dbl&gt;, v034 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v040 &lt;dbl&gt;, v042 &lt;dbl&gt;, v044 &lt;dbl&gt;, v101 &lt;dbl&gt;, v102 &lt;dbl&gt;, v103 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v104 &lt;dbl&gt;, v105 &lt;dbl&gt;, educ &lt;dbl&gt;, v107 &lt;dbl&gt;, v113 &lt;dbl&gt;, v115 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v116 &lt;dbl&gt;, v119 &lt;dbl&gt;, v120 &lt;dbl&gt;, v121 &lt;dbl&gt;, v122 &lt;dbl&gt;, v123 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v124 &lt;dbl&gt;, v125 &lt;dbl&gt;, v127 &lt;dbl&gt;, v128 &lt;dbl&gt;, v129 &lt;dbl&gt;, relig &lt;dbl&gt;,</span>
<span class="co">#&gt; #   ethnicity &lt;dbl&gt;, v133 &lt;dbl&gt;, v134 &lt;dbl&gt;, v135 &lt;dbl&gt;, hhsize &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v137 &lt;dbl&gt;, v138 &lt;dbl&gt;, v139 &lt;dbl&gt;, v140 &lt;dbl&gt;, v141 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   educ_recode &lt;dbl&gt;, v150 &lt;dbl&gt;, v151 &lt;dbl&gt;, v152 &lt;dbl&gt;, v153 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   awfactt &lt;dbl&gt;, awfactu &lt;dbl&gt;, awfactr &lt;dbl&gt;, awfacte &lt;dbl&gt;, awfactw &lt;dbl&gt;,</span>
<span class="co">#&gt; #   literacy &lt;dbl&gt;, v156 &lt;dbl&gt;, v157 &lt;dbl&gt;, v158 &lt;dbl&gt;, v159 &lt;dbl&gt;, v160 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v161 &lt;dbl&gt;, v166 &lt;dbl&gt;, v167 &lt;dbl&gt;, v168 &lt;dbl&gt;, v190 &lt;dbl&gt;, v191 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   ml101 &lt;dbl&gt;, bidx_01 &lt;dbl&gt;, bidx_02 &lt;dbl&gt;, bidx_03 &lt;dbl&gt;, bidx_04 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   bidx_05 &lt;dbl&gt;, bidx_06 &lt;dbl&gt;, bidx_07 &lt;dbl&gt;, bidx_08 &lt;dbl&gt;, bidx_09 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   bidx_10 &lt;dbl&gt;, bidx_11 &lt;dbl&gt;, bidx_12 &lt;dbl&gt;, bidx_13 &lt;dbl&gt;, bidx_14 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   bidx_15 &lt;dbl&gt;, bidx_16 &lt;dbl&gt;, bidx_17 &lt;dbl&gt;, bidx_18 &lt;dbl&gt;, bidx_19 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   …</span></pre></div>
</div>
<div id="prepare-the-sibling-reports-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-the-sibling-reports-dataset" class="anchor"></a>Prepare the sibling reports dataset</h2>
<p>Next, we’ll prepare the dataset of sibling reports.</p>
<p>We’ll start by using <code>attributes.to.long</code> to convert the wide-form sibling data into long format for analysis:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="va">sibdata</span> <span class="op">&lt;-</span> <span class="fu">siblingsurvival</span><span class="fu">::</span><span class="fu"><a href="../reference/attributes.to.long.html">attributes.to.long</a></span><span class="op">(</span><span class="va">ex.ego</span>,
                                               attribute.prefix<span class="op">=</span><span class="va">sib.attrib</span>,
                                               ego.vars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'caseid'</span>, <span class="st">'wwgt'</span>, 
                                                          <span class="st">'psu'</span>, <span class="st">'doi'</span><span class="op">)</span>,
                                               idvar<span class="op">=</span><span class="st">"caseid"</span><span class="op">)</span>
<span class="co">#&gt; Warning: `select_()` is deprecated as of dplyr 0.7.0.</span>
<span class="co">#&gt; Please use `select()` instead.</span>
<span class="co">#&gt; This warning is displayed once every 8 hours.</span>
<span class="co">#&gt; Call `lifecycle::last_warnings()` to see where this warning was generated.</span>
<span class="co">#&gt; Warning: `mutate_()` is deprecated as of dplyr 0.7.0.</span>
<span class="co">#&gt; Please use `mutate()` instead.</span>
<span class="co">#&gt; See vignette('programming') for more help</span>
<span class="co">#&gt; This warning is displayed once every 8 hours.</span>
<span class="co">#&gt; Call `lifecycle::last_warnings()` to see where this warning was generated.</span>
<span class="co">#&gt; Warning: `filter_()` is deprecated as of dplyr 0.7.0.</span>
<span class="co">#&gt; Please use `filter()` instead.</span>
<span class="co">#&gt; See vignette('programming') for more help</span>
<span class="co">#&gt; This warning is displayed once every 8 hours.</span>
<span class="co">#&gt; Call `lifecycle::last_warnings()` to see where this warning was generated.</span>
<span class="fu">glimpse</span><span class="op">(</span><span class="va">sibdata</span><span class="op">)</span>
<span class="co">#&gt; Rows: 35,082</span>
<span class="co">#&gt; Columns: 22</span>
<span class="co">#&gt; $ .tmpid                  &lt;chr&gt; "        1  1  2", "        1  3  2", "      …</span>
<span class="co">#&gt; $ caseid                  &lt;chr&gt; "        1  1  2", "        1  3  2", "      …</span>
<span class="co">#&gt; $ wwgt                    &lt;dbl&gt; 1.057703, 1.057703, 1.057703, 1.057703, 1.057…</span>
<span class="co">#&gt; $ psu                     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ doi                     &lt;dbl&gt; 1386, 1386, 1386, 1386, 1386, 1386, 1386, 138…</span>
<span class="co">#&gt; $ sibindex                &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ sib.sex                 &lt;dbl&gt; 1, 2, 1, 2, 1, 2, 1, 2, 1, 1, 2, 1, 1, 1, 2, …</span>
<span class="co">#&gt; $ sib.alive               &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, …</span>
<span class="co">#&gt; $ sib.age                 &lt;dbl&gt; 42, 27, 46, 33, 40, 49, 22, 30, 49, 50, 35, N…</span>
<span class="co">#&gt; $ sib.dob                 &lt;dbl&gt; 876, 1056, 828, 984, 900, 792, 1116, 1020, 79…</span>
<span class="co">#&gt; $ sib.marital.status      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ sib.death.yrsago        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 3…</span>
<span class="co">#&gt; $ sib.death.age           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4…</span>
<span class="co">#&gt; $ sib.death.date          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1…</span>
<span class="co">#&gt; $ sib.died.pregnant       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ sib.died.bc.pregnancy   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ sib.death.cause         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ sib.time.delivery.death &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ sib.place.death         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ sib.num.children        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ sib.death.year          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ alternum                &lt;chr&gt; "01", "01", "01", "01", "01", "01", "01", "01…</span></pre></div>
<p>Now we’ll do some recoding.</p>
<p>Turn the <code>sib.sex</code> variable into more readable values:</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="va">sibdata.coded</span> <span class="op">&lt;-</span> <span class="va">sibdata</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>sib.sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">sib.sex</span> <span class="op">==</span> <span class="fl">2</span>, <span class="st">'f'</span>, <span class="st">'m'</span><span class="op">)</span><span class="op">)</span></pre></div>
<p>Next, we need to create a new variable, <code>sib.endobs</code>, which has the date (as a century month code, CMC) when we stopped observing each sibling. Generally, this date is either the time that the sibling died, or the date of the interview.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="co">## make the assumption that</span>
<span class="co">##  (1) sibs who died lived all the way through</span>
<span class="co">##      the month in which they are reported to have died</span>
<span class="co">##  (2) the interview took place on the first of the month</span>
<span class="co">## these assumptions are necessary to get these tables to line up</span>
<span class="co">## with the DHS reports</span>
<span class="va">sibdata.coded</span><span class="op">$</span><span class="va">sib.endobs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">pmin</a></span><span class="op">(</span><span class="va">sibdata.coded</span><span class="op">$</span><span class="va">doi</span>,
                                 <span class="va">sibdata.coded</span><span class="op">$</span><span class="va">sib.death.date</span> <span class="op">+</span> <span class="fl">1</span>,
                                 na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></pre></div>
<p>For siblings who are currently alive, we’ll recode their date of death to -1; this ensures that we count their exposure, but not their deaths (since they are alive).</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="co">## siblings who haven't died get their death dates</span>
<span class="co">## recoded to -1 so we don't lose the exposures they</span>
<span class="co">## contribute...</span>
<span class="va">sibdata.coded</span><span class="op">$</span><span class="va">sib.death.date</span><span class="op">[</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">sibdata.coded</span><span class="op">$</span><span class="va">sib.death.date</span><span class="op">)</span> <span class="op">]</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span></pre></div>
<p>We’ll also create a unique id for each reported sibling.</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="va">sibdata.coded</span><span class="op">$</span><span class="va">sibid</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">sibdata</span><span class="op">)</span></pre></div>
<p>Now we’ll do some quality checks, removing some sibling reports when there is not enough information to make use of them.</p>
<p>First, we’ll figure out how many siblings have unknown survival status, and we’ll drop these.</p>
<div class="sourceCode" id="cb12"><pre class="downlit">

<span class="co">## CALCULATE % of siblings with unknown survival status;</span>
<span class="co">## we are taking them out of the analysis here</span>
<span class="va">sibdata.coded</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">sib.alive</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">summarise</span><span class="op">(</span>freq<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>frac<span class="op">=</span><span class="va">freq</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">freq</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span>
<span class="co">#&gt; # A tibble: 4 x 3</span>
<span class="co">#&gt;   sib.alive  freq     frac</span>
<span class="co">#&gt;       &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1         0  5314 0.151   </span>
<span class="co">#&gt; 2         1 29130 0.830   </span>
<span class="co">#&gt; 3         8     9 0.000257</span>
<span class="co">#&gt; 4        NA   629 0.0179</span>

<span class="va">pre.n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">sibdata.coded</span><span class="op">)</span>
<span class="va">sibdata.coded</span> <span class="op">&lt;-</span> <span class="va">sibdata.coded</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">sib.alive</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">post.n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">sibdata.coded</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Removed "</span>, <span class="va">pre.n</span><span class="op">-</span><span class="va">post.n</span>, <span class="st">" out of "</span>, <span class="va">pre.n</span>, <span class="st">" ("</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">100</span><span class="op">*</span><span class="op">(</span><span class="va">pre.n</span><span class="op">-</span><span class="va">post.n</span><span class="op">)</span><span class="op">/</span><span class="va">pre.n</span>,<span class="fl">2</span><span class="op">)</span>, <span class="st">"%)"</span>,
           <span class="st">" reports about sibs with unknown survival status.\n"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Removed 638 out of 35082 (1.82%) reports about sibs with unknown survival status.</span></pre></div>
<p>Next, we’ll figure out how many siblings have unknown sex, and we’ll drop them, too.</p>
<div class="sourceCode" id="cb13"><pre class="downlit">

<span class="co">## CALCULATE % of siblings with unknown sex</span>
<span class="va">sibdata.coded</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">sib.sex</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">summarise</span><span class="op">(</span>freq<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>frac<span class="op">=</span><span class="va">freq</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">freq</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span>
<span class="co">#&gt; # A tibble: 3 x 3</span>
<span class="co">#&gt;   sib.sex  freq     frac</span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;int&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 f       17221 0.500   </span>
<span class="co">#&gt; 2 m       17219 0.500   </span>
<span class="co">#&gt; 3 &lt;NA&gt;        4 0.000116</span>

<span class="co">## we're removing them from the analysis here</span>
<span class="va">pre.n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">sibdata.coded</span><span class="op">)</span>
<span class="va">sibdata.coded</span> <span class="op">&lt;-</span> <span class="va">sibdata.coded</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">sib.sex</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'f'</span>, <span class="st">'m'</span><span class="op">)</span><span class="op">)</span>
<span class="va">post.n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">sibdata.coded</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Removed "</span>, <span class="va">pre.n</span><span class="op">-</span><span class="va">post.n</span>, <span class="st">" out of "</span>, <span class="va">pre.n</span>, <span class="st">" ("</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">100</span><span class="op">*</span><span class="op">(</span><span class="va">pre.n</span><span class="op">-</span><span class="va">post.n</span><span class="op">)</span><span class="op">/</span><span class="va">pre.n</span>,<span class="fl">2</span><span class="op">)</span>, <span class="st">"%)"</span>,
           <span class="st">" reports about sibs with unknown sex.\n"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Removed 4 out of 34444 (0.01%) reports about sibs with unknown sex.</span>

<span class="va">ex.sib</span> <span class="op">&lt;-</span> <span class="va">sibdata.coded</span></pre></div>
<p>We’ll only keep a small subset of the ego variables, to keep things manageable</p>
<div class="sourceCode" id="cb14"><pre class="downlit">
<span class="va">ex.ego</span> <span class="op">&lt;-</span> <span class="va">ex.ego</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">resp.attrib</span><span class="op">)</span>, <span class="st">'sex'</span>, <span class="st">'age.cat'</span><span class="op">)</span><span class="op">)</span></pre></div>
</div>
<div id="done" class="section level2">
<h2 class="hasAnchor">
<a href="#done" class="anchor"></a>Done!</h2>
<p>Now our two datasets, <code>ex.ego</code> and <code>ex.sib</code> are prepped and ready to go!</p>
</div>
<div id="using-prep_dhs_sib_histories" class="section level1">
<h1 class="hasAnchor">
<a href="#using-prep_dhs_sib_histories" class="anchor"></a>Using <code>prep_dhs_sib_histories</code>
</h1>
<p>The package includes a function, <code>prep_dhs_sib_histories</code>, that can be used to load the sibling data, following the steps we just described. It works like this:</p>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">model_dhs_dat</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">sibhist_varmap_dhs6</span><span class="op">)</span>

<span class="va">prepped</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_dhs_sib_histories.html">prep_dhs_sib_histories</a></span><span class="op">(</span><span class="va">model_dhs_dat</span>,
                                  varmap <span class="op">=</span> <span class="va">sibhist_varmap_dhs6</span>,
                                  keep_missing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; 638 out of 35082 (1.82%) reports about sibs have unknown survival status.</span>
<span class="co">#&gt; 602 out of 35082 (1.72%) reports about sibs have unknown sex.</span>
<span class="co">#&gt; Removing reported sibs missing survival status or sex.</span>
<span class="co">#&gt; ... this removes  642  out of  35082  ( 1.83 %)  sibling reports.</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">prepped</span><span class="op">)</span>
<span class="co">#&gt; List of 4</span>
<span class="co">#&gt;  $ survey : chr "ZZ6"</span>
<span class="co">#&gt;  $ ego.dat: tibble [8,348 × 4,278] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ caseid          : chr [1:8348] "        1  1  2" "        1  3  2" "        1  4  2" "        1  4  3" ...</span>
<span class="co">#&gt;   ..$ survey          : chr [1:8348] "ZZ6" "ZZ6" "ZZ6" "ZZ6" ...</span>
<span class="co">#&gt;   ..$ cluster         : num [1:8348] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ hhnum           : num [1:8348] 1 3 4 4 5 6 6 7 9 11 ...</span>
<span class="co">#&gt;   ..$ hrnum           : num [1:8348] 2 2 2 3 1 2 3 2 5 2 ...</span>
<span class="co">#&gt;   ..$ v004            : num [1:8348] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ wwgt            : num [1:8348] 1.06 1.06 1.06 1.06 1.06 ...</span>
<span class="co">#&gt;   ..$ v006            : num [1:8348] 6 6 6 6 6 6 6 6 6 6 ...</span>
<span class="co">#&gt;   ..$ v007            : num [1:8348] 2015 2015 2015 2015 2015 ...</span>
<span class="co">#&gt;   ..$ doi             : num [1:8348] 1386 1386 1386 1386 1386 ...</span>
<span class="co">#&gt;   ..$ v009            : num [1:8348] 6 4 4 7 2 2 6 6 4 10 ...</span>
<span class="co">#&gt;   ..$ v010            : num [1:8348] 1985 1993 1973 1989 1990 ...</span>
<span class="co">#&gt;   ..$ v011            : num [1:8348] 1026 1120 880 1075 1082 ...</span>
<span class="co">#&gt;   ..$ age             : num [1:8348] 30 22 42 25 25 37 17 21 46 37 ...</span>
<span class="co">#&gt;   ..$ v013            : num [1:8348] 4 2 6 3 3 5 1 2 7 5 ...</span>
<span class="co">#&gt;   ..$ v014            : num [1:8348] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ v015            : num [1:8348] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ v016            : num [1:8348] 28 30 29 29 30 29 29 29 28 1 ...</span>
<span class="co">#&gt;   ..$ v017            : num [1:8348] 1321 1321 1321 1321 1321 ...</span>
<span class="co">#&gt;   ..$ v018            : num [1:8348] 15 15 15 15 15 15 15 15 15 15 ...</span>
<span class="co">#&gt;   ..$ v019            : num [1:8348] 66 66 66 66 66 66 66 66 66 66 ...</span>
<span class="co">#&gt;   ..$ v019a           : num [1:8348] 2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="co">#&gt;   ..$ v020            : num [1:8348] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;   ..$ psu             : num [1:8348] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ stratum_analysis: num [1:8348] 26 26 26 26 26 26 26 26 26 26 ...</span>
<span class="co">#&gt;   ..$ stratum_design  : num [1:8348] 4 4 4 4 4 4 4 4 4 4 ...</span>
<span class="co">#&gt;   ..$ v024            : num [1:8348] 2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="co">#&gt;   ..$ v025            : num [1:8348] 2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="co">#&gt;   ..$ v026            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ v027            : num [1:8348] 1 1 2 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ v028            : num [1:8348] 225 225 225 225 225 225 225 225 225 225 ...</span>
<span class="co">#&gt;   ..$ v029            : num [1:8348] 7 7 7 7 7 7 7 7 7 7 ...</span>
<span class="co">#&gt;   ..$ v030            : num [1:8348] 221 221 221 221 221 221 221 221 221 221 ...</span>
<span class="co">#&gt;   ..$ v031            : num [1:8348] 222 222 222 222 222 222 222 222 222 222 ...</span>
<span class="co">#&gt;   ..$ v032            : num [1:8348] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ v034            : num [1:8348] 1 1 NA 0 2 1 NA 1 0 0 ...</span>
<span class="co">#&gt;   ..$ v040            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ v042            : num [1:8348] 0 1 1 1 1 1 1 1 0 0 ...</span>
<span class="co">#&gt;   ..$ v044            : num [1:8348] 1 0 0 0 0 0 0 0 1 1 ...</span>
<span class="co">#&gt;   ..$ v101            : num [1:8348] 2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="co">#&gt;   ..$ v102            : num [1:8348] 2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="co">#&gt;   ..$ v103            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ v104            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ v105            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ educ            : num [1:8348] 0 2 0 1 2 0 2 0 0 1 ...</span>
<span class="co">#&gt;   ..$ v107            : num [1:8348] NA 3 NA 6 1 NA 1 NA NA 6 ...</span>
<span class="co">#&gt;   ..$ v113            : num [1:8348] 32 42 21 21 31 43 43 43 31 43 ...</span>
<span class="co">#&gt;   ..$ v115            : num [1:8348] 20 120 996 996 10 120 120 4 15 60 ...</span>
<span class="co">#&gt;   ..$ v116            : num [1:8348] 23 31 23 23 23 23 23 23 97 23 ...</span>
<span class="co">#&gt;   ..$ v119            : num [1:8348] 0 0 0 0 0 0 0 0 7 0 ...</span>
<span class="co">#&gt;   ..$ v120            : num [1:8348] 0 1 1 1 1 1 1 0 7 1 ...</span>
<span class="co">#&gt;   ..$ v121            : num [1:8348] 0 0 0 0 0 0 0 0 7 0 ...</span>
<span class="co">#&gt;   ..$ v122            : num [1:8348] 0 0 0 0 0 0 0 0 7 0 ...</span>
<span class="co">#&gt;   ..$ v123            : num [1:8348] 0 0 0 0 0 1 1 0 7 0 ...</span>
<span class="co">#&gt;   ..$ v124            : num [1:8348] 0 1 0 0 0 0 0 0 7 0 ...</span>
<span class="co">#&gt;   ..$ v125            : num [1:8348] 0 0 0 0 0 0 0 0 7 0 ...</span>
<span class="co">#&gt;   ..$ v127            : num [1:8348] 11 11 11 11 11 11 11 11 97 34 ...</span>
<span class="co">#&gt;   ..$ v128            : num [1:8348] 13 33 33 33 13 13 13 13 97 31 ...</span>
<span class="co">#&gt;   ..$ v129            : num [1:8348] 12 31 31 31 12 31 31 12 97 37 ...</span>
<span class="co">#&gt;   ..$ relig           : num [1:8348] 2 96 2 2 2 2 2 2 2 2 ...</span>
<span class="co">#&gt;   ..$ ethnicity       : num [1:8348] 3 NA 4 5 4 4 4 4 4 1 ...</span>
<span class="co">#&gt;   ..$ v133            : num [1:8348] 0 9 0 6 7 0 7 0 0 6 ...</span>
<span class="co">#&gt;   ..$ v134            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ v135            : num [1:8348] 1 1 1 1 1 1 1 1 2 1 ...</span>
<span class="co">#&gt;   ..$ hhsize          : num [1:8348] 6 3 7 7 4 6 6 3 5 3 ...</span>
<span class="co">#&gt;   ..$ v137            : num [1:8348] 2 1 1 1 1 1 1 1 1 0 ...</span>
<span class="co">#&gt;   ..$ v138            : num [1:8348] 1 1 2 2 1 2 2 1 1 1 ...</span>
<span class="co">#&gt;   ..$ v139            : num [1:8348] 2 2 2 2 2 2 2 2 97 2 ...</span>
<span class="co">#&gt;   ..$ v140            : num [1:8348] 2 2 2 2 2 2 2 2 7 2 ...</span>
<span class="co">#&gt;   ..$ v141            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ educ_recode     : num [1:8348] 0 3 0 2 3 0 3 0 0 2 ...</span>
<span class="co">#&gt;   ..$ v150            : num [1:8348] 2 2 8 4 1 2 3 2 7 10 ...</span>
<span class="co">#&gt;   ..$ v151            : num [1:8348] 1 1 1 1 2 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ v152            : num [1:8348] 49 23 55 55 25 45 45 36 69 78 ...</span>
<span class="co">#&gt;   ..$ v153            : num [1:8348] 0 0 0 0 0 0 0 0 7 0 ...</span>
<span class="co">#&gt;   ..$ awfactt         : num [1:8348] 100 100 100 100 100 100 100 100 100 100 ...</span>
<span class="co">#&gt;   ..$ awfactu         : num [1:8348] 100 100 100 100 100 100 100 100 100 100 ...</span>
<span class="co">#&gt;   ..$ awfactr         : num [1:8348] 100 100 100 100 100 100 100 100 100 100 ...</span>
<span class="co">#&gt;   ..$ awfacte         : num [1:8348] 100 100 100 100 100 100 100 100 100 100 ...</span>
<span class="co">#&gt;   ..$ awfactw         : num [1:8348] 100 100 100 100 100 100 100 100 100 100 ...</span>
<span class="co">#&gt;   ..$ literacy        : num [1:8348] 0 2 0 1 2 0 2 0 0 1 ...</span>
<span class="co">#&gt;   ..$ v156            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ v157            : num [1:8348] 0 NA 0 0 0 0 0 0 0 1 ...</span>
<span class="co">#&gt;   ..$ v158            : num [1:8348] 0 NA 0 0 2 1 2 0 0 1 ...</span>
<span class="co">#&gt;   ..$ v159            : num [1:8348] 0 NA 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;   ..$ v160            : num [1:8348] 1 NA 1 1 1 0 0 1 7 1 ...</span>
<span class="co">#&gt;   ..$ v161            : num [1:8348] 8 8 8 8 8 8 8 8 97 8 ...</span>
<span class="co">#&gt;   ..$ v166            : num [1:8348] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ v167            : num [1:8348] 0 NA 3 2 1 2 0 3 3 10 ...</span>
<span class="co">#&gt;   ..$ v168            : num [1:8348] NA NA 0 0 0 0 NA 1 0 1 ...</span>
<span class="co">#&gt;   ..$ v190            : num [1:8348] 1 3 3 3 2 3 3 1 4 3 ...</span>
<span class="co">#&gt;   ..$ v191            : num [1:8348] -128996 -21359 -22691 -22691 -64794 ...</span>
<span class="co">#&gt;   ..$ ml101           : num [1:8348] 1 0 0 0 1 1 1 0 0 0 ...</span>
<span class="co">#&gt;   ..$ bidx_01         : num [1:8348] 1 1 1 1 1 1 NA 1 1 1 ...</span>
<span class="co">#&gt;   ..$ bidx_02         : num [1:8348] 2 NA 2 2 2 2 NA NA 2 2 ...</span>
<span class="co">#&gt;   ..$ bidx_03         : num [1:8348] 3 NA NA 3 3 NA NA NA NA 3 ...</span>
<span class="co">#&gt;   ..$ bidx_04         : num [1:8348] 4 NA NA NA 4 NA NA NA NA 4 ...</span>
<span class="co">#&gt;   ..$ bidx_05         : num [1:8348] 5 NA NA NA NA NA NA NA NA 5 ...</span>
<span class="co">#&gt;   ..$ bidx_06         : num [1:8348] 6 NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   .. [list output truncated]</span>
<span class="co">#&gt;  $ sib.dat:'data.frame': 34440 obs. of  24 variables:</span>
<span class="co">#&gt;   ..$ .tmpid                 : chr [1:34440] "        1  1  2" "        1  3  2" "        1  4  2" "        1  4  3" ...</span>
<span class="co">#&gt;   ..$ caseid                 : chr [1:34440] "        1  1  2" "        1  3  2" "        1  4  2" "        1  4  3" ...</span>
<span class="co">#&gt;   ..$ wwgt                   : num [1:34440] 1.06 1.06 1.06 1.06 1.06 ...</span>
<span class="co">#&gt;   ..$ psu                    : num [1:34440] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ doi                    : num [1:34440] 1386 1386 1386 1386 1386 ...</span>
<span class="co">#&gt;   ..$ sibindex               : num [1:34440] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ sib.sex                : chr [1:34440] "m" "f" "m" "f" ...</span>
<span class="co">#&gt;   ..$ sib.alive              : num [1:34440] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ sib.age                : num [1:34440] 42 27 46 33 40 49 22 30 49 50 ...</span>
<span class="co">#&gt;   ..$ sib.dob                : num [1:34440] 876 1056 828 984 900 ...</span>
<span class="co">#&gt;   ..$ sib.marital.status     : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.death.yrsago       : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.death.age          : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.death.date         : num [1:34440] -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 ...</span>
<span class="co">#&gt;   ..$ sib.died.pregnant      : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.died.bc.pregnancy  : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.death.cause        : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.time.delivery.death: num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.place.death        : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.num.children       : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ sib.death.year         : num [1:34440] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;   ..$ alternum               : chr [1:34440] "01" "01" "01" "01" ...</span>
<span class="co">#&gt;   ..$ sib.endobs             : num [1:34440] 1386 1386 1386 1386 1386 ...</span>
<span class="co">#&gt;   ..$ sibid                  : int [1:34440] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ summ   : tibble [1 × 10] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ survey          : chr "ZZ6"</span>
<span class="co">#&gt;   ..$ n.ego           : int 8348</span>
<span class="co">#&gt;   ..$ n.sib.raw       : int 35082</span>
<span class="co">#&gt;   ..$ n.sib           : int 34440</span>
<span class="co">#&gt;   ..$ miss.alive      : int 638</span>
<span class="co">#&gt;   ..$ miss.alive.pct  : num 1.82</span>
<span class="co">#&gt;   ..$ miss.sex        : int 602</span>
<span class="co">#&gt;   ..$ miss.sex.pct    : num 1.72</span>
<span class="co">#&gt;   ..$ sibs.removed    : int 642</span>
<span class="co">#&gt;   ..$ sibs.removed.pct: num 1.83</span></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Dennis M. Feehan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
