% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sibling_estimator.R
\name{get_boot_ests_matrix}
\alias{get_boot_ests_matrix}
\title{Fast bootstrap estimation using matrix multiplication}
\usage{
get_boot_ests_matrix(
  ec_dat,
  boot_weights_df,
  ego_id_col,
  cell_vars,
  estimator_type
)
}
\arguments{
\item{ec_dat}{ego X cell data from get_ec_reports()}

\item{boot_weights_df}{dataframe with .ego.id column and boot_weight_1..M columns}

\item{ego_id_col}{name of the ego id column in ec_dat and boot_weights_df}

\item{cell_vars}{vector of column names defining cells (age, sex, time period, etc)}

\item{estimator_type}{either 'ind' (individual visibility) or 'agg' (aggregate visibility)}
}
\value{
long-form data frame with one row per cell per bootstrap replicate
}
\description{
Replaces the wide-dataframe summarize_at + gather/spread approach with direct
matrix multiplication. For each cell, computes weighted sums across all M bootstrap
replicates simultaneously using BLAS routines, avoiding the creation of 10k-column
intermediate dataframes.
}
